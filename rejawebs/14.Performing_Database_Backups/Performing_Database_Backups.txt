

Backup Solutions
################

--LET'S CONNECT TO RMAN
[oracle@dba167 ~]$ rman target sys/sys123

Recovery Manager: Release 19.0.0.0.0 - Production on Thu Jul 28 13:30:56 2022
Version 19.3.0.0.0

Copyright (c) 1982, 2019, Oracle and/or its affiliates.  All rights reserved.

connected to target database: DBA167 (DBID=781690275)


--IF YOU WANT TO CONNECT TO RMAN BY CLIENT, LET'S SEE
C:\Users\Reja>rman target sys/sys123@dba167_1521

Recovery Manager: Release 19.0.0.0.0 - Production on Thu Jul 28 07:33:23 2022
Version 19.3.0.0.0

Copyright (c) 1982, 2019, Oracle and/or its affiliates.  All rights reserved.

connected to target database: DBA167 (DBID=781690275)



--LET'S SEE db_recovery_file_dest OR BACKUP LOCATION 
SQL> show parameter db_reco

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
db_recovery_file_dest                string      +FRA
db_recovery_file_dest_size           big integer 10G

--NOTE: BACKUP LOCATION IS +FRA

--NOW START TO BACKUP DATABASE
RMAN> BACKUP DATABASE;

--LET'S SEE CURRENT RMAN SETTINGS
RMAN> SHOW ALL;

RMAN configuration parameters for database with db_unique_name DBA167 are:
CONFIGURE RETENTION POLICY TO REDUNDANCY 1;
CONFIGURE BACKUP OPTIMIZATION OFF; # default
CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default
CONFIGURE CONTROLFILE AUTOBACKUP ON;
CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '%F'; # default
CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO BACKUPSET;
CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE MAXSETSIZE TO UNLIMITED; # default
CONFIGURE ENCRYPTION FOR DATABASE OFF; # default
CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default
CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE 'DEFAULT' OPTIMIZE FOR LOAD TRUE ; # default
CONFIGURE RMAN OUTPUT TO KEEP FOR 7 DAYS; # default
CONFIGURE ARCHIVELOG DELETION POLICY TO NONE; # default
CONFIGURE SNAPSHOT CONTROLFILE NAME TO '/u01/app/oracle/product/19.3.0/db_1/dbs/snapcf_dba167.f'; # default

--CONFIGURE CONTROLFILE INFO FOR LAST BACKUP REDUNDANCY.
CONFIGURE RETENTION POLICY TO REDUNDANCY 2;

--NOTE: IF YOU HAVE TAKEN BACKUP 1 AND THEN BACKUP 2. SO, REDUNDANCY 2 STORE LAST TWO CONTROL INFORMATION 
--AND YOU CAN SWITCH BACK TO THAT BACKUP

--IF YOU WANT TO STORE CONTROLFILE INFO JUST USE BELOW ONE...
CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF 30 DAYS;

--LET'S OFF THE  AUTOBACKUP
CONFIGURE CONTROLFILE AUTOBACKUP OFF;

--LET'S SEE LIST OF BACKUPS
RMAN> LIST BACKUP;

--LET'S SEE HOW TO DELETE/REMOVE BACKUPS
RMAN> DELETE BACKUP;

--CONFIGURE CHANNNEL TO BACKUP PIPELINE
RMAN> CONFIGURE DEVICE TYPE DISK PARALLELISM 2 BACKUP TYPE TO BACKUPSET;


--LET'S SEE CURRENT RMAN SETTINGS
RMAN> SHOW ALL;


--LET'S SEE HOW TO GET BACKUP FOR SPECIFIC TABLESPACE 
RMAN> BACKUP TABLESPACE USERS;

--LET'S SEE HOW TO GET BACKUP FOR SPECIFIC DATAFILE
RMAN> BACKUP DATAFILE 1;

--LET'S SEE HOW TO GET BACKUP FOR ARCHIVELOG
RMAN> BACKUP ARCHIVELOG ALL;

--LET'S SEE HOW TO GET BACKUP FOR CONTROLFILE
RMAN> BACKUP CURRENT CONTROLFILE;

--LET'S SEE HOW TO GET BACKUP FOR SPFILE
RMAN> BACKUP SPFILE;

--LET'S SEE HOW TO VIEW LIST OF BACKUPS
RMAN> LIST BACKUP;

Video Ref: OracleAdmin1/07. Lecture 07/DBA167_22072022_3.wmv
--LET'S SEE HOW TO GET BACKUP FOR CUMULATIVE INCREMENTAL FULL
RMAN> BACKUP CUMULATIVE INCREMENTAL LEVEL =0 DATABASE;

--LET'S SEE HOW TO GET BACKUP FOR CUMULATIVE INCREMENTAL
RMAN> BACKUP CUMULATIVE INCREMENTAL LEVEL =1 DATABASE;


--LET'S SEE HOW TO GET BACKUP FOR DIFFENTIAL FULL
RMAN> BACKUP INCREMENTAL LEVEL =0 DATABASE;

--LET'S SEE HOW TO GET BACKUP FOR INCREMENTAL
RMAN> BACKUP INCREMENTAL LEVEL =1 DATABASE;


--LET'S SEE HOW TO GET BACKUP FOR DATABASE AND ARCHIVELOG
RMAN> BACKUP DATABASE PLUS ARCHIVELOG;

























